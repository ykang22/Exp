/**
 * 2005-03-17:	created
 **/

#pragma once


#define bitmask_to_ls_bitpos(m) (\
	(m)&0x00000001 ? 0 : \
	(m)&0x00000002 ? 1 : \
	(m)&0x00000004 ? 2 : \
	(m)&0x00000008 ? 3 : \
	(m)&0x00000010 ? 4 : \
	(m)&0x00000020 ? 5 : \
	(m)&0x00000040 ? 6 : \
	(m)&0x00000080 ? 7 : \
	(m)&0x00000100 ? 8 : \
	(m)&0x00000200 ? 9 : \
	(m)&0x00000400 ? 10 : \
	(m)&0x00000800 ? 11 : \
	(m)&0x00001000 ? 12 : \
	(m)&0x00002000 ? 13 : \
	(m)&0x00004000 ? 14 : \
	(m)&0x00008000 ? 15 : \
	(m)&0x00010000 ? 16 : \
	(m)&0x00020000 ? 17 : \
	(m)&0x00040000 ? 18 : \
	(m)&0x00080000 ? 19 : \
	(m)&0x00100000 ? 20 : \
	(m)&0x00200000 ? 21 : \
	(m)&0x00400000 ? 22 : \
	(m)&0x00800000 ? 23 : \
	(m)&0x01000000 ? 24 : \
	(m)&0x02000000 ? 25 : \
	(m)&0x04000000 ? 26 : \
	(m)&0x08000000 ? 27 : \
	(m)&0x10000000 ? 28 : \
	(m)&0x20000000 ? 29 : \
	(m)&0x40000000 ? 30 : \
	(m)&0x80000000 ? 31 : 32 )

#define bitmask_to_ms_bitpos(m) (\
	(m)&0x80000000 ? 31 : \
	(m)&0x40000000 ? 30 : \
	(m)&0x20000000 ? 29 : \
	(m)&0x10000000 ? 28 : \
	(m)&0x08000000 ? 27 : \
	(m)&0x04000000 ? 26 : \
	(m)&0x02000000 ? 25 : \
	(m)&0x01000000 ? 24 : \
	(m)&0x00800000 ? 23 : \
	(m)&0x00400000 ? 22 : \
	(m)&0x00200000 ? 21 : \
	(m)&0x00100000 ? 20 : \
	(m)&0x00080000 ? 19 : \
	(m)&0x00040000 ? 18 : \
	(m)&0x00020000 ? 17 : \
	(m)&0x00010000 ? 16 : \
	(m)&0x00008000 ? 15 : \
	(m)&0x00004000 ? 14 : \
	(m)&0x00002000 ? 13 : \
	(m)&0x00001000 ? 12 : \
	(m)&0x00000800 ? 11 : \
	(m)&0x00000400 ? 10 : \
	(m)&0x00000200 ? 9 : \
	(m)&0x00000100 ? 8 : \
	(m)&0x00000080 ? 7 : \
	(m)&0x00000040 ? 6 : \
	(m)&0x00000020 ? 5 : \
	(m)&0x00000010 ? 4 : \
	(m)&0x00000008 ? 3 : \
	(m)&0x00000004 ? 2 : \
	(m)&0x00000002 ? 1 : \
	(m)&0x00000001 ? 0 : -1 )

